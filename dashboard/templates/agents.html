{% extends '_base.html' %}

{% block content %}

<div class="px-10 pt-20 pb-5 sm:ml-64 bg-purple-100">
    <div class="h-6 w-6 py-10 flex items-center justify-between w-full">
        <h3 class="text-gray-500 font-bold capitalize">Admin management cards</h3>
        <div>
            <h4 class="text-gray-500 font-bold capitalize">Account | Agent</h4>
        </div>
    </div>

    <!-- add card section -->
    <div class="flex items-center justify-between">
        <h2 class="text-gray-500 font-bold">Add Agents</h2>

        <div class="flex items-center justify-between gap-2">
            <div class="relative hidden md:block">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
                    </svg>
                    <span class="sr-only">Search icon</span>
                </div>
                <input type="text" id="search-navbar"
                    class="block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-full bg-gray-50 focus:ring-purple-500 focus:border-purple-500"
                    placeholder="Search...">
            </div>
            <button type="button" data-modal-target="popup-modal" data-modal-toggle="popup-modal"
                class="text-white gap-2 items-center font-medium bg-gradient-to-b from-violet-500 to-fuchsia-500 hover:bg-gradient-to-b hover:from-violet-800 hover:to-fuchsia-800 rounded-full text-sm px-5 py-2.5 text-center inline-flex items-center">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor" viewBox="0 0 20 18">
                    <path
                        d="M6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Zm11-3h-2V5a1 1 0 0 0-2 0v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 0 0 2 0V9h2a1 1 0 1 0 0-2Z" />
                </svg>
                <span>Add Agent</span>
            </button>
        </div>
    </div>

    <div class=" relative rounded-lg bg-white p-10 mt-5">


        {% if agents %}
        <div class="relative overflow-x-auto ">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500">
                <thead class="text-xs text-gray-700 uppercase ">
                    <tr>
                        <th scope="col" class="px-6 py-3">
                            Account status
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Username
                        </th>
                        <th scope="col" class="px-6 py-3">
                            email
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>


                    {% for agent in agents %}
                    <tr class="bg-white my-4 border border-black rounded-full overflow-x-hidden hover:bg-gray-50">

                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                            <span
                                class="bg-purple-100 text-purple-800 text-xs font-medium me-2 px-3 py-1 rounded-full dark:bg-purple-900 dark:text-purple-300">Purple</span>
                        </th>

                        <td class="px-6 py-4 flex items-center gap-2">
                            <img class="w-10 h-10 rounded-full"
                                src="https://flowbite.com/docs/images/people/profile-picture-5.jpg"
                                alt="Rounded avatar">
                            <p>{{agent.username}}</p>
                        </td>
                        <td class="px-6 py-4">
                            {% if agent.email %} {{agent.email}} {% else %} youngestkid01@gmail.com {% endif %}
                        </td>
                        <td class="flex items-center px-6 py-4">
                            <div class="flex justify-end px-4 pt-4">
                                <button id="dropdownButton" data-dropdown-toggle="dropdown-2"
                                    class="inline-block text-gray-500 rounded-lg text-sm" type="button">
                                    <span class="sr-only">Open dropdown</span>
                                    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                        fill="currentColor" viewBox="0 0 16 3">
                                        <path
                                            d="M2 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6.041 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM14 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z" />
                                    </svg>
                                </button>
                                <!-- Dropdown menu -->
                                <div id="dropdown-2"
                                    class="z-10 hidden text-base list-none bg-white text-center divide-y divide-gray-100 rounded-lg shadow w-44">
                                    <ul class="py-2" aria-labelledby="dropdownButton">
                                        <li>
                                            <a href="#"
                                                class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">View</a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">Block</a>
                                        </li>

                                    </ul>
                                </div>
                            </div>


                        </td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>
        {% else %}
        <p class="text-3xl text-center text-gray-500">No agents</p>
        {% endif %}



        <div id="popup-modal" tabindex="-1"
            class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center nax-w-sm md:inset-0 h-[calc(100%-1rem)] max-h-full">
            <div class="relative p-4 w-full max-w-md max-h-full">
                <div class="relative bg-white rounded-lg shadow ">
                    <button type="button"
                        class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                        data-modal-hide="popup-modal">
                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 14 14">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                        </svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                    <div class="p-4 md:p-5 text-center flex flex-col items-center gap-5">
                        <!-- <?xml version="1.0" encoding="iso-8859-1"?> -->
                        <!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                        <!-- <!DOCTYPE svg
                            PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
                        License: CC0. Made by SVG Repo: https://www.svgrepo.com/svg/41992/basic-tick -->
                        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="70px" height="70px"
                            viewBox="0 0 469.184 469.185" style="enable-background:new 0 0 469.184 469.185;"
                            xml:space="preserve">
                            <g>
                                <path
                                    d="M462.5,96.193l-21.726-21.726c-8.951-8.95-23.562-8.95-32.59,0L180.368,302.361l-119.34-119.34
    c-8.95-8.951-23.562-8.951-32.589,0L6.712,204.747c-8.95,8.951-8.95,23.562,0,32.589L163.997,394.62
    c4.514,4.514,10.327,6.809,16.218,6.809s11.781-2.295,16.219-6.809L462.27,128.783C471.45,119.68,471.45,105.145,462.5,96.193z" />
                            </g>
                        </svg>

                        <h3 class=" text-2xl font-normal text-purple-500">Block agent</h3>
                        <p class="text-gray-400 my-5">Clicking the proceed button will deny agent access to the entire
                            systen, proceed?</p>

                        <button type="button" data-modal-target="popup-modal" data-modal-toggle="popup-modal"
                            class="text-white font-medium bg-gradient-to-b from-violet-500 to-fuchsia-500 hover:bg-gradient-to-b hover:from-violet-800 hover:to-fuchsia-800 rounded-full text-sm px-5 py-2.5 text-center inline-flex items-center">

                            Proceed
                        </button>

                    </div>
                </div>
            </div>
        </div>

    </div>

</div>


{% endblock %}

{% block script %}

{% endblock %}